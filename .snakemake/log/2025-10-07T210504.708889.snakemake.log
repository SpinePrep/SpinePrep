ValidationError in file "/mnt/ssd1/SpinePrep/workflow/Snakefile", line 22:
'project_name' is a required property

Failed validating 'required' in schema:
    {'$schema': 'https://json-schema.org/draft/2020-12/schema',
     'title': 'SpinePrep configuration',
     'type': 'object',
     'required': ['pipeline_version',
                  'project_name',
                  'study',
                  'paths',
                  'dataset',
                  'acq',
                  'options',
                  'registration',
                  'templates',
                  'tools',
                  'resources',
                  'qc',
                  'runtime'],
     'properties': {'pipeline_version': {'type': 'string'},
                    'project_name': {'type': 'string'},
                    'study': {'type': 'object',
                              'required': ['name'],
                              'properties': {'name': {'type': 'string',
                                                      'minLength': 1}},
                              'additionalProperties': False},
                    'paths': {'type': 'object',
                              'required': ['root',
                                           'bids_dir',
                                           'deriv_dir',
                                           'work_dir',
                                           'logs_dir'],
                              'properties': {'root': {'type': 'string',
                                                      'minLength': 1},
                                             'bids_dir': {'type': 'string',
                                                          'minLength': 1},
                                             'deriv_dir': {'type': 'string',
                                                           'minLength': 1},
                                             'work_dir': {'type': 'string',
                                                          'minLength': 1},
                                             'logs_dir': {'type': 'string',
                                                          'minLength': 1}},
                              'additionalProperties': False},
                    'dataset': {'type': 'object',
                                'properties': {'sessions': {'anyOf': [{'type': 'null'},
                                                                      {'type': 'array',
                                                                       'items': {'type': 'string'}}]},
                                               'runs_per_subject': {'anyOf': [{'type': 'null'},
                                                                              {'type': 'integer',
                                                                               'minimum': 1}]}},
                                'additionalProperties': False},
                    'acq': {'type': 'object',
                            'required': ['tr', 'slice_timing', 'pe_dir'],
                            'properties': {'tr': {'type': 'number',
                                                  'exclusiveMinimum': 0},
                                           'slice_timing': {'type': 'string'},
                                           'pe_dir': {'type': 'string'},
                                           'echo_spacing_s': {'type': ['number',
                                                                       'null'],
                                                              'exclusiveMinimum': 0}},
                            'additionalProperties': False},
                    'options': {'type': 'object',
                                'required': ['ingest',
                                             'denoise_mppca',
                                             'motion',
                                             'smoothing',
                                             'sdc',
                                             'first_level',
                                             'cleanup'],
                                'properties': {'ingest': {'type': 'object',
                                                          'required': ['enable'],
                                                          'properties': {'enable': {'type': 'boolean'}},
                                                          'additionalProperties': False},
                                               'denoise_mppca': {'type': 'boolean'},
                                               'motion': {'type': 'object',
                                                          'required': ['engine',
                                                                       'slice_axis',
                                                                       'concat'],
                                                          'properties': {'engine': {'type': 'string',
                                                                                    'enum': ['sct',
                                                                                             'rigid3d',
                                                                                             'sct+rigid3d']},
                                                                         'slice_axis': {'type': 'string',
                                                                                        'enum': ['x',
                                                                                                 'y',
                                                                                                 'z',
                                                                                                 'IS',
                                                                                                 'SI']},
                                                                         'concat': {'type': 'object',
                                                                                    'required': ['mode',
                                                                                                 'require_same'],
                                                                                    'properties': {'mode': {'type': 'string',
                                                                                                            'enum': ['none',
                                                                                                                     'subject',
                                                                                                                     'session',
                                                                                                                     'session+task']},
                                                                                                   'require_same': {'type': 'array',
                                                                                                                    'items': {'type': 'string',
                                                                                                                              'enum': ['pe_dir',
                                                                                                                                       'slice_axis',
                                                                                                                                       'tr',
                                                                                                                                       'voxel_size',
                                                                                                                                       'echo_spacing_s']},
                                                                                                                    'minItems': 1}},
                                                                                    'additionalProperties': False}},
                                                          'additionalProperties': False},
                                               'smoothing': {'type': 'object',
                                                             'required': ['enable',
                                                                          'fwhm_mm'],
                                                             'properties': {'enable': {'type': 'boolean'},
                                                                            'fwhm_mm': {'type': 'number',
                                                                                        'minimum': 0}},
                                                             'additionalProperties': False},
                                               'sdc': {'type': 'object',
                                                       'required': ['enable',
                                                                    'mode'],
                                                       'properties': {'enable': {'type': 'boolean'},
                                                                      'mode': {'type': 'string',
                                                                               'enum': ['auto',
                                                                                        'topup',
                                                                                        'disabled']}},
                                                       'additionalProperties': False},
                                               'temporal_crop': {'type': 'object',
                                                                 'required': ['enable',
                                                                              'method',
                                                                              'max_trim_start',
                                                                              'max_trim_end',
                                                                              'z_thresh'],
                                                                 'properties': {'enable': {'type': 'boolean'},
                                                                                'method': {'type': 'string',
                                                                                           'enum': ['cord_mean_robust_z']},
                                                                                'max_trim_start': {'type': 'integer',
                                                                                                   'minimum': 0,
                                                                                                   'maximum': 10},
                                                                                'max_trim_end': {'type': 'integer',
                                                                                                 'minimum': 0,
                                                                                                 'maximum': 10},
                                                                                'z_thresh': {'type': 'number',
                                                                                             'minimum': 1.0,
                                                                                             'maximum': 5.0}},
                                                                 'additionalProperties': False},
                                               'first_level': {'type': 'object',
                                                               'required': ['engine',
                                                                            'feat_variant'],
                                                               'properties': {'engine': {'type': 'string',
                                                                                         'enum': ['feat',
                                                                                                  'pyglm']},
                                                                              'feat_variant': {'type': 'string'}},
                                                               'additionalProperties': False},
                                               'cleanup': {'type': 'object',
                                                           'required': ['keep_only_latest_stage'],
                                                           'properties': {'keep_only_latest_stage': {'type': 'boolean'}},
                                                           'additionalProperties': False}},
                                'additionalProperties': False},
                    'registration': {'type': 'object',
                                     'required': ['enable',
                                                  'template',
                                                  'guidance',
                                                  'levels',
                                                  'use_gm_wm_masks',
                                                  'rootlets'],
                                     'properties': {'enable': {'type': 'boolean'},
                                                    'template': {'type': 'string',
                                                                 'enum': ['PAM50']},
                                                    'guidance': {'type': 'string',
                                                                 'enum': ['SCT']},
                                                    'levels': {'type': 'string',
                                                               'enum': ['auto']},
                                                    'use_gm_wm_masks': {'type': 'boolean'},
                                                    'rootlets': {'type': 'object',
                                                                 'required': ['enable',
                                                                              'mode'],
                                                                 'properties': {'enable': {'type': 'boolean'},
                                                                                'mode': {'type': 'string',
                                                                                         'enum': ['atlas']}},
                                                                 'additionalProperties': False}},
                                     'additionalProperties': False},
                    'templates': {'type': 'object',
                                  'required': ['pam50_version'],
                                  'properties': {'pam50_version': {'type': 'string'}},
                                  'additionalProperties': False},
                    'tools': {'type': 'object',
                              'required': ['sct',
                                           'fsl',
                                           'ants',
                                           'dcm2niix'],
                              'properties': {'sct': {'type': 'string'},
                                             'sct_min_version': {'type': 'string'},
                                             'fsl': {'type': 'string'},
                                             'ants': {'type': 'string'},
                                             'dcm2niix': {'type': 'string'}},
                              'additionalProperties': False},
                    'resources': {'type': 'object',
                                  'required': ['default_threads',
                                               'default_mem_gb'],
                                  'properties': {'default_threads': {'type': 'integer',
                                                                     'minimum': 1},
                                                 'default_mem_gb': {'type': 'integer',
                                                                    'minimum': 1}},
                                  'additionalProperties': False},
                    'qc': {'type': 'object',
                           'required': ['subject_report', 'cohort_report'],
                           'properties': {'subject_report': {'type': 'boolean'},
                                          'cohort_report': {'type': 'boolean'}},
                           'additionalProperties': False},
                    'runtime': {'type': 'object',
                                'required': ['container_engine'],
                                'properties': {'container_engine': {'type': ['string',
                                                                             'null'],
                                                                    'enum': ['docker',
                                                                             'singularity',
                                                                             None]}},
                                'additionalProperties': False}},
     'additionalProperties': False}

On instance:
    {'pipeline_version': '0.2.0',
     'study': {'name': 'Fixture'},
     'paths': {'root': '{TMP}/root'},
     'options': {'temporal_crop': {'enable': True,
                                   'method': 'cord_mean_robust_z',
                                   'max_trim_start': 10,
                                   'max_trim_end': 10,
                                   'z_thresh': 2.5}}}
  File "/mnt/ssd1/SpinePrep/workflow/Snakefile", line 25, in <module>
  File "/mnt/ssd1/SpinePrep/workflow/Snakefile", line 22, in _load
  File "/mnt/ssd1/SpinePrep/spineprep/config.py", line 81, in load_config
  File "/mnt/ssd1/SpinePrep/.venv/lib/python3.12/site-packages/jsonschema/validators.py", line 1332, in validate
