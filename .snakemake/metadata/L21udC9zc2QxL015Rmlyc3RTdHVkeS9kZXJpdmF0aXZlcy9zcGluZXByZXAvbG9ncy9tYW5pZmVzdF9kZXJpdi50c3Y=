{"record_format_version": 6, "code": "        import csv, json\n        from spineprep.config import load_config\n        cfg = load_config(CFG_PATH, CFG_SCHEMA)\n        deriv_root = cfg[\"paths\"][\"deriv_dir\"]\n        rows = _rows(input.samples)\n        out_fields = None\n        with open(output.tsv, \"w\", newline=\"\") as f:\n        with open(output.tsv, \"w\", newline=\"\") as f:\n        with open(output.tsv, \"w\", newline=\"\") as f:\n            if not rows:\n                base_fields = []\n                base_fields = list(rows[0].keys())\n            deriv_fields = [\n            out_fields = base_fields + deriv_fields\n            w = csv.DictWriter(f, fieldnames=out_fields, delimiter=\"\\t\")\n            w.writeheader()\n            for r in rows:\n            for r in rows:\n                r2 = dict(r)\n                r2.update(derive_paths(r, deriv_root))\n                w.writerow(r2)\n        print(f\"Wrote manifest_deriv.tsv with {len(rows)} rows\")\n", "rule": "manifest_deriv", "input": ["/mnt/ssd1/MyFirstStudy/derivatives/spineprep/logs/samples.tsv"], "log": [], "params": [], "shellcmd": null, "incomplete": false, "starttime": null, "endtime": 1759854096.3241656, "job_hash": 8658827750575, "conda_env": null, "software_stack_hash": "d41d8cd98f00b204e9800998ecf8427e", "container_img_url": null, "input_checksums": {"/mnt/ssd1/MyFirstStudy/derivatives/spineprep/logs/samples.tsv": "d6d639677527289a8ffb3869d7424211f6ceb67b6d420699e9abeda7412a07ce"}}