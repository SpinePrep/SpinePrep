{
  "$schema":"https://json-schema.org/draft/2020-12/schema",
  "type":"object",
  "required":["bids_root","output_dir","pipeline","confounds","registration","qc"],
  "properties":{
    "bids_root":{"type":["string","null"]},
    "output_dir":{"type":"string"},
    "pipeline":{
      "type":"object",
      "properties":{
        "motion":{
          "type":"object",
          "properties":{
            "fd_threshold":{"type":"number"},
            "dvars_threshold":{"type":"number"}
          },
          "required":["fd_threshold","dvars_threshold"]
        }
      }
    },
    "confounds":{
      "type":"object",
      "properties":{
        "acompcor":{
          "type":"object",
          "properties":{"n_components":{"type":"integer","minimum":1}},
          "required":["n_components"]
        }
      }
    },
    "registration":{
      "type":"object",
      "properties":{
        "target":{"type":"string","enum":["PAM50"]},
        "sct":{"type":"object","properties":{"enable":{"type":"boolean"}},"required":["enable"]}
      },
      "required":["target","sct"]
    },
    "qc":{"type":"object","properties":{"enable":{"type":"boolean"}},"required":["enable"]}
  }
}
